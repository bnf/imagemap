{"version":3,"sources":["Wizard.js"],"names":["define","jQuery","document","ready","defaultAttributeSet","window","imagemap","canvasObject","canvasClass","scaleFactor","zoomOut","zoomIn","init","initializeScaling","existingAreas","forEach","configuration","addArea","shape","coords","alt","link","color","prepend","attribute","hide","this","show","click","setScale","close","setValue","persistanceXML","mousedown","areaPolyClass","dblclick","e","mouseup","mousemove"],"mappings":"AAAAA,OAAO,CAAC,SAAU,qBAAsB,sBAAuB,iCAAkC,SAAUC,GAC1GA,EAAMC,UAANC,MAAA,WACC,IAAAC,EAAuBC,OAAGA,SAAOC,oBAAjCC,EACCA,IAAYC,YADbC,EAECA,OAAcJ,SAAOC,YAFtBI,EAGCA,EAAUT,UAAO,YAHlBU,EAICA,EAASV,SAAO,YAGjBQ,EAAWG,KAAGL,SAAY,UAACM,aAC3BN,EAAYA,EAAUE,kBAAtBA,GACAJ,EAAOC,SAASC,GAEhBF,OAAAA,SAAOC,aAAPC,EAUCF,OAVDC,SAAAQ,cAAAC,QAAA,SAAAC,GACCT,EAAaU,QAWd,IAAIR,OAAAA,OAAJO,EAAqBE,MAAA,SACpBR,EAAAS,OACAH,EAAMI,IACNT,EAAAU,KACAX,EAAAY,MACAN,EAAAO,QATCP,EAAcQ,aAcfd,EAAA,GAIAH,EAAAA,OAHAG,EAJDe,OAYAxB,EAAAA,MAAO,WACNM,EAAAA,SAAaU,GACbhB,EAAAyB,MAAOD,OACPf,EAHDiB,SAOCjB,EAAAkB,MAAO,WACPrB,EAHDsB,SAAApB,GAKAR,EAAMyB,MAACD,OACNlB,EAAAA,SAIDN,EAAAA,YAAA2B,MAAA,WAECE,OADAC,EAASd,QAAA,IAAUV,cAAayB,GAAAA,GAAb,GAAgC,GAAA,EAAA5B,IACnD0B,IAKC7B,EAAA,YAAOM,MAAa0B,WAErB,OADC1B,EAAUU,QAAA,IAAaiB,cAAA,GAAA,GAAA,GAAA,GAAA,EAAA9B,IACxB,IAGAH,EAAEkC,YAASP,MAAA,WAEX,OADArB,EAAOA,QAAAA,IAAa4B,gBAApB,GAAA,GAAA,GAAA,GAAA,EAAA/B,IARD,IALAH,EAAO,WAAW2B,MAAM,WACvBG,SAAS,QAAUxB,EAAayB,iBAAmB,YACnDF,UAGD7B,EAAO,WACLgC,UAAU,SAAUG,GACpB,OAAO7B,EAAa0B,UAAUG,KAC5BC,QAAQ,SAAUD,GACrB,OAAO7B,EAAa8B,QAAQD,KAC1BE,UAAU,SAAUF,GACtB,OAAO7B,EAAa+B,UAAUF,KAC5BD,SAAS,SAAUC,GACrB,OAAO7B,EAAa4B,SAASC","file":"Wizard.js","sourcesContent":["define(['jquery', 'jquery-ui/sortable', 'jquery-ui/draggable', 'TYPO3/CMS/Imagemap/JsGraphics'], function (jQuery) {\n\tjQuery(document).ready(function () {\n\t\tlet defaultAttributeSet = window.imagemap.defaultAttributeset,\n\t\t\tcanvasObject = new canvasClass(),\n\t\t\tscaleFactor = window.imagemap.scaleFactor,\n\t\t\tzoomOut = jQuery('> .zout', '#magnify'),\n\t\t\tzoomIn = jQuery('> .zin', '#magnify');\n\n\t\tcanvasObject.init('canvas', 'picture', 'areaForms');\n\t\tscaleFactor = canvasObject.initializeScaling(scaleFactor);\n\t\tcanvasObject.setScale(scaleFactor);\n\t\twindow.imagemap.canvasObject = canvasObject;\n\n\t\twindow.imagemap.existingAreas.forEach(function (configuration) {\n\t\t\tcanvasObject.addArea(\n\t\t\t\tnew window['area' + configuration.shape + 'Class'](),\n\t\t\t\tconfiguration.coords,\n\t\t\t\tconfiguration.alt,\n\t\t\t\tconfiguration.link,\n\t\t\t\tconfiguration.color,\n\t\t\t\tconfiguration.prepend,\n\t\t\t\tconfiguration.attribute\n\t\t\t);\n\t\t});\n\n\t\tif (scaleFactor < 1) {\n\t\t\tzoomOut.hide();\n\t\t} else {\n\t\t\tzoomIn.hide();\n\t\t\tzoomOut.hide();\n\t\t}\n\n\t\tzoomIn.click(function () {\n\t\t\tcanvasObject.setScale(1);\n\t\t\tjQuery(this).hide();\n\t\t\tzoomOut.show();\n\t\t});\n\n\t\tzoomOut.click(function () {\n\t\t\tcanvasObject.setScale(scaleFactor);\n\t\t\tjQuery(this).hide();\n\t\t\tzoomIn.show();\n\t\t});\n\n\t\tjQuery('#addRect').click(function () {\n\t\t\tcanvasObject.addArea(new areaRectClass(), '', '', '', '', 1, defaultAttributeSet);\n\t\t\treturn false;\n\t\t});\n\n\t\tjQuery('#addPoly').click(function () {\n\t\t\tcanvasObject.addArea(new areaPolyClass(), '', '', '', '', 1, defaultAttributeSet);\n\t\t\treturn false;\n\t\t});\n\n\t\tjQuery('#addCirc').click(function () {\n\t\t\tcanvasObject.addArea(new areaCircleClass(), '', '', '', '', 1, defaultAttributeSet);\n\t\t\treturn false;\n\t\t});\n\n\t\tjQuery('#submit').click(function () {\n\t\t\tsetValue('<map>' + canvasObject.persistanceXML() + '\\n</map>');\n\t\t\tclose();\n\t\t});\n\n\t\tjQuery('#canvas')\n\t\t\t.mousedown(function (e) {\n\t\t\t\treturn canvasObject.mousedown(e);\n\t\t\t}).mouseup(function (e) {\n\t\t\treturn canvasObject.mouseup(e);\n\t\t}).mousemove(function (e) {\n\t\t\treturn canvasObject.mousemove(e);\n\t\t}).dblclick(function (e) {\n\t\t\treturn canvasObject.dblclick(e);\n\t\t});\n\t});\n});\n"]}