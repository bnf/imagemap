{"version":3,"sources":["FormElement.js"],"names":["define","jQuery","window","imagemapwizard_valueChanged","fieldId","ajax","url","TYPO3","settings","global","type","data","context","P","itemFormElName","field","tableName","fieldName","uid","value","done","textStatus","html","document","ready","canvas","$","first","control","find","existingAreas","canvasObject","previewCanvasClass","init","attr","addArea","configuration","shape","coords","alt","link","color"],"mappings":"AAAAA,OAAO,CAAC,SAAU,qBAAsB,sBAAuB,iCAAkC,SAAUC,GAC1GC,OAAMC,4BAAN,SAAqCC,GACpCH,EAAAA,KAAOI,CACNC,IAAAA,MAAKC,SAAMC,SAAXF,iBACAG,QAAAA,EACAC,KAAAA,OACAC,KAAAA,CACCC,QAAAA,UACAC,EAAAA,CACCC,eAAAA,MAAgBC,KAChBC,UAAAA,aACAC,UAAAA,oBACAC,IAAAA,MACAC,MAAAA,MAAOJ,UAXVK,KAcGA,SAAKT,EAAAU,GACO,YAAdA,GACCpB,EAAAA,GAAOG,KAASkB,MAKnBrB,EAAMsB,UAANC,MAAA,WACC,IAAAC,EAAWC,EAAGA,qBAACC,QACLC,KAAQC,WAAKF,QADvBG,EAECA,EAAgBL,KAAOd,kBAFxBoB,EAGCA,IAAYC,mBACZD,EAAYE,KAAZR,EAAwBS,KAAN,MAAlBT,EAA2Cd,KAAN,oBAGrCoB,EAAAA,QAAaI,SACRjC,GAOL6B,EATDI,QAPD,IAAAjC,OAAA,OAAAkC,EAAAC,MAAA,SAvBDD,EAAAE,OAkCIF,EAAcG,IACdH,EAAcI,KACdJ,EAAcK,MACd","file":"FormElement.js","sourcesContent":["define(['jquery', 'jquery-ui/sortable', 'jquery-ui/draggable', 'TYPO3/CMS/Imagemap/JsGraphics'], function (jQuery) {\n\twindow.imagemapwizard_valueChanged = function (fieldId) {\n\t\tjQuery.ajax({\n\t\t\turl: TYPO3.settings.ajaxUrls['imagemap_tceform'],\n\t\t\tglobal: false,\n\t\t\ttype: 'POST',\n\t\t\tdata: {\n\t\t\t\tcontext: 'tceform',\n\t\t\t\tP: {\n\t\t\t\t\titemFormElName: field.name,\n\t\t\t\t\ttableName: 'tt_content',\n\t\t\t\t\tfieldName: 'tx_imagemap_links',\n\t\t\t\t\tuid: 'uid',\n\t\t\t\t\tvalue: field.value\n\t\t\t\t}\n\t\t\t}\n\t\t}).done(function (data, textStatus) {\n\t\t\tif (textStatus === 'success') {\n\t\t\t\tjQuery(fieldId).html(data);\n\t\t\t}\n\t\t});\n\t};\n\n\tjQuery(document).ready(function () {\n\t\tlet control = $('.imagemap-control').first(),\n\t\t\tcanvas = control.find('.canvas').first(),\n\t\t\texistingAreas = canvas.data('existing-areas'),\n\t\t\tcanvasObject = new previewCanvasClass();\n\t\t\tcanvasObject.init(canvas.attr('id'), canvas.data('thumbnail-scale'));\n\n\t\texistingAreas.forEach(function (configuration) {\n\t\t\tcanvasObject.addArea(\n\t\t\t\tnew window['area' + configuration.shape + 'Class'](),\n\t\t\t\tconfiguration.coords,\n\t\t\t\tconfiguration.alt,\n\t\t\t\tconfiguration.link,\n\t\t\t\tconfiguration.color,\n\t\t\t\t0\n\t\t\t);\n\t\t});\n\t});\n});\n"]}